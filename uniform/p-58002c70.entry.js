import{r as t,c as i,h as e,H as s,g as o}from"./p-86e9747e.js";let h=class{constructor(e){t(this,e),this.uSubmit=i(this,"uSubmit",7),this.uNextStep=i(this,"uNextStep",7),this.layout="",this.fields=[],this.buttons=[],this.submitForm=()=>{console.log("submitForm",this.returnValue),this.uSubmit.emit(this.returnValue)},this.steps=[],this.stepper=!1,this.sendStep=t=>{this.uNextStep.emit({step:t.detail,value:this.returnValue})}}setAttr(t){return this.returnValue=Object.assign(Object.assign({},this.returnValue),{[t.prop]:t.value||""}),"input"===t.type||"textarea"===t.type?Object.assign({onUInput:i=>{this.returnValue=Object.assign(Object.assign({},this.returnValue),{[t.prop]:i.detail})},label:t.label,value:t.value,inputType:t.subType||"text",required:t.required},t.options):"select"===t.type?Object.assign({onUChange:i=>{this.returnValue=Object.assign(Object.assign({},this.returnValue),{[t.prop]:i.detail})},label:t.label,value:t.value,options:t.data,required:t.required},t.options):"filepicker"===t.type?Object.assign({onUSelect:i=>{this.returnValue=Object.assign(Object.assign({},this.returnValue),{[t.prop]:i.detail})},label:t.label,required:t.required},t.options):"checkbox"===t.type||"radio"===t.type?{}:void 0}getLayout(){this.layout.split(",").forEach((t=>{if("stepper"===(t=t.trim())&&(this.stepper=!0),t.includes("col")||t.includes("cols")||t.includes("column")||t.includes("columns")){const i=t.split(" ");this.cols=Number(i[0])}if(t.includes("row")||t.includes("rows")){const i=t.split(" ");this.rows=Number(i[0])}if(t.includes("gap")){const[i]=t.split(" ");this.gap=i}}))}componentWillLoad(){this.getLayout(),this.fields.forEach((t=>{t.step&&(this.steps.includes(t.step)||(this.steps=[...this.steps,t.step]))}))}handleButtonClick(t){t.event?(t.event(),this.el&&t.eventName&&this.el.dispatchEvent(new CustomEvent(t.eventName))):this.submitForm()}render(){return e(s,null,this.stepper?e("u-stepper",{onUSubmit:this.submitForm,onUStep:this.sendStep,steps:this.steps},this.steps.map(((t,i)=>e("u-grid",{rows:this.rows,columns:this.cols,gap:this.gap,slot:`step-${i+1}`,width:"calc(100% - 2rem)",style:{padding:"1rem"}},this.fields.map((i=>{if(i.step===t)return e(`u-${i.type}`,Object.assign({},this.setAttr(i),{style:{"grid-area":i.place}}))})))))):e("form",{onSubmit:this.submitForm},e("u-grid",{rows:this.rows,columns:this.cols,gap:this.gap},this.fields.map((t=>e(`w-${t.type}`,Object.assign({},this.setAttr(t),{style:{"grid-area":t.place}}))))),e("slot",null),e("u-row",{justify:"space-between",padding:"0"},this.buttons.map((t=>e("u-button",{onUClick:()=>this.handleButtonClick(t),type:t.event?"button":"submit",design:t.design||"secondary"},t.text||"Submit"))))))}get el(){return o(this)}};h.style="form{display:-webkit-box;display:-ms-flexbox;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;-webkit-flex-direction:column;flex-direction:column;max-width:-webkit-max-content;max-width:-moz-max-content;max-width:max-content;grid-gap:1rem;gap:1rem}";export{h as u_formgen}