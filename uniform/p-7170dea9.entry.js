import{r as t,c as i,h as e,g as o}from"./p-831f0635.js";let a=class{constructor(e){t(this,e),this.beforeOpen=i(this,"beforeOpen",7),this.closeOnClick=!0,this.topRightClose=!1,this.moveable=!0,this.resetPosition=!0,this.resizeable=!0,this.mode="desktop",this.minWidth="auto",this.minHeight="auto",this.maxHeight="auto",this.maxWidth="auto",this.isOpen=!1,this.handleCloseClick=()=>{this.closeModal(this.name)},this.handleBlur=t=>{t.target.className.includes("wrapper")&&this.closeOnClick&&this.closeModal(this.name)},this.drag=!1,this.handleStartDrag=t=>{this.moveable&&(t.preventDefault(),this.drag=!0,this.dragoffset={x:t.pageX-this.node.offsetLeft,y:t.pageY-this.node.offsetTop})},this.mouseUp=()=>{this.drag=!1},this.handleMove=t=>{if(!this.drag||!this.node||!this.moveable)return;let i="0px",e="0px";e=t.pageX-this.dragoffset.x<0?"0px":t.pageX-this.dragoffset.x+this.node.clientWidth>window.innerWidth?window.innerWidth-this.node.clientWidth+"px":t.pageX-this.dragoffset.x+"px",i=t.pageY-this.dragoffset.y<0?"0px":t.pageY-this.dragoffset.y+this.node.clientHeight>window.innerHeight?window.innerHeight-this.node.clientHeight+"px":t.pageY-this.dragoffset.y+"px",this.node.style.left=e,this.node.style.top=i}}showModalHandler(t){const{name:i,params:e}=t.detail;this.beforeOpen.emit(e),console.log("show modal",i),this.showModal(i)}closeModalHandler(t){const{name:i}=t.detail;this.closeModal(i)}setParams(t){this.params=t.detail}async showModal(t){t===this.name&&(this.isOpen=!0,document.body.style.overflow="hidden")}async closeModal(t){t===this.name&&(this.isOpen=!1,document.body.style.overflow="auto"),this.resetPosition&&this.initPosition()}async initPosition(){const t=this.node;t&&(t.style.removeProperty("top"),t.style.removeProperty("left"),t.style.removeProperty("width"),t.style.removeProperty("height"))}render(){return e("div",{class:{wrapper:!0,visible:this.isOpen},onPointerDown:t=>this.handleBlur(t),onPointerMove:t=>this.handleMove(t),onPointerUp:()=>this.mouseUp(),onClick:t=>t.preventDefault()},this.topRightClose&&e("button",{class:"close backdrop__close",onClick:this.handleCloseClick},"×"),e("div",{class:{modal:!0,resizeable:this.resizeable},id:"modal",ref:t=>this.node=t,style:{"min-width":this.minWidth,"min-height":this.minHeight,"max-width":this.maxWidth,"max-height":this.maxHeight}},e("div",{class:"header",onPointerDown:t=>this.handleStartDrag(t)},e("span",{class:"header__title"},e("slot",{name:"header"})),e("button",{class:"close header__close",onClick:this.handleCloseClick},"×")),e("div",{class:{content:!0}},e("div",{style:{"min-width":this.minWidth,"min-height":this.minHeight,"max-width":this.maxWidth,"max-height":this.maxHeight,visibility:this.isOpen?"visible":"hidden"}},e("slot",{name:"body"})))))}get el(){return o(this)}};a.style={desktop:".wrapper{--tw-bg-opacity:1;background-color:rgba(34, 34, 34, var(--tw-bg-opacity));--tw-bg-opacity:0.8;display:none;height:100vh;position:absolute;top:0px;left:0px;width:100%;z-index:9997}.visible{display:-ms-grid;display:grid;place-items:center}.modal{position:absolute;width:auto;max-width:80%;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;z-index:9998;-webkit-animation:0.5s fadeIn;animation:0.5s fadeIn}.close{--tw-bg-opacity:1;background-color:rgba(255, 255, 255, var(--tw-bg-opacity));border-radius:9999px;font-weight:700;height:1.5rem;text-align:center;vertical-align:middle;width:1.5rem;border:none;cursor:pointer;z-index:9998}.close:hover{--tw-bg-opacity:1;background-color:rgba(239, 68, 68, var(--tw-bg-opacity));--tw-text-opacity:1;color:rgba(255, 255, 255, var(--tw-text-opacity))}.backdrop__close{position:absolute;top:12px;right:12px}.header{--tw-bg-opacity:1;background-color:rgba(107, 114, 128, var(--tw-bg-opacity));border-top-left-radius:0.5rem;border-top-right-radius:0.5rem;display:-webkit-box;display:-ms-flexbox;display:-webkit-flex;display:flex;-webkit-box-align:center;-ms-flex-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-ms-flex-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;height:2.5rem;padding-left:0.5rem;padding-right:0.5rem;--tw-text-opacity:1;color:rgba(250, 250, 250, var(--tw-text-opacity));font-size:1.5em;font-weight:600}.content{height:100%;position:relative;background:#fff;z-index:9999;overflow-x:auto}.resizeable{overflow:hidden;resize:both}@-webkit-keyframes fadeIn{0%{opacity:0;-webkit-transform:translateY(50px) scale(0.9);transform:translateY(50px) scale(0.9)}100%{opacity:1}}@keyframes fadeIn{0%{opacity:0;-webkit-transform:translateY(50px) scale(0.9);transform:translateY(50px) scale(0.9)}100%{opacity:1}}",mobile:".wrapper{--tw-bg-opacity:1;background-color:rgba(34, 34, 34, var(--tw-bg-opacity));--tw-bg-opacity:0.8;height:100vh;max-height:0px;position:absolute;bottom:0px;left:0px;width:100%;z-index:9997;display:none;-webkit-backdrop-filter:blur(5px) brightness(0.8);backdrop-filter:blur(5px) brightness(0.8)}.visible{display:grid;place-items:center;max-height:100vh}.modal{max-height:-webkit-max-content;max-height:-moz-max-content;max-height:max-content;position:absolute;bottom:0px;width:100%;z-index:9998;-webkit-transition-property:all;transition-property:all;-webkit-transition-duration:0.5s;transition-duration:0.5s;-webkit-transition-timing-function:cubic-bezier(0, 1, 0.5, 1);transition-timing-function:cubic-bezier(0, 1, 0.5, 1);-webkit-animation:0.5s fadeIn;animation:0.5s fadeIn}.close{--tw-bg-opacity:1;background-color:rgba(255, 255, 255, var(--tw-bg-opacity));border-radius:9999px;font-weight:700;height:1.5rem;text-align:center;vertical-align:middle;width:1.5rem;border:none;cursor:pointer;z-index:9998}.close:hover{--tw-bg-opacity:1;background-color:rgba(239, 68, 68, var(--tw-bg-opacity));--tw-text-opacity:1;color:rgba(255, 255, 255, var(--tw-text-opacity))}.backdrop__close{position:absolute;top:12px;right:12px}.header{--tw-bg-opacity:1;background-color:rgba(156, 163, 175, var(--tw-bg-opacity));display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:center;align-items:center;height:2rem;padding:10px 10px 20px 10px;font-size:1.5em;font-weight:600}.content{position:relative;top:-12px;height:calc(100% - 2rem);background:#fff;border-radius:5px;-webkit-box-shadow:0 0 10px rgba(0, 0, 0, 0.2);box-shadow:0 0 10px rgba(0, 0, 0, 0.2);z-index:9999;margin-bottom:-12px;overflow-x:auto}.resizeable{resize:both;overflow:hidden}@-webkit-keyframes fadeIn{0%{max-height:0}100%{max-height:100vh}}@keyframes fadeIn{0%{max-height:0}100%{max-height:100vh}}"};export{a as u_modal}